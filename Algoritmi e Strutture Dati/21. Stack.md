# 21. Stack

## 1. La pila - definizione e concetti

1. LIFO -> lo stack è una lista LIFO last in first out
2. Operazioni fondamentali in $O(1)$
    - push -> elemento in cima
    - pop -> rimuove elemento in cima
    - peek -> guarda elemento in cima in lettura
    - isEmpty isFull -> controlli di stato
3. __DOVE SI USA__ ?
    - __Call stack__ -> gestione delle funzioni ricorsive
    - __Undo__ -> il pulsante annulla, ctrl + z
    - __espressioni matematiche__ -> risoluzione di equazioni
4. __Array vs puntatori__ come per le liste, anche lo stack si puo implementare in 2 modi:
    - array -> semplice e veloce ma dimensione fissa
    - puntatori -> flessibile cresce quanto vuoi ma leggermente piu complesso da scrivere

## 2. Esempio applicativo

Per calcolare le espressioni matematiche lo stack viene molto utile infatti di solito si utilizzano __3 pile diverse__:
1. __simboli__ parentesi
2. __operatori__ +-*/
3. __operandi__ numeri

Flusso logico:
1. leggi l espressione da sinistra a destra
2. inserisci i numeri, operatori e parentesi nelle rispettive pile
3. appena trovi una parentesi chiusa:
    - estrai l ultimo operatore
    - estrai gli ultimi due numeri
    - calcoli
    - il risultato viene pushato nella pila dei numeri
    - NOTA: in automatico abbiamo sostituito la precedente espressione con il suo risultato
4. continui cosi finche non si svuota tutto

## 3. Implementazione C/C++

1. __implementazione statica__: va beh easy, definisci array, usi `top` per indicare l attuale livello della pila e via...
2. __implementazione dinamica__: anche qui easy, inserisci ed elimini sempre solo dalla testa.
3. __il problema della stampa__: per leggere tutta una pila devi fare `pop` fino in fondo ma cosi perdi dati, quello che puoi fare è usare un altra pila di appoggio

## 4. Complessita

in breve:
- operazioni `push`, `pop`, `peek`, `isEmpty` tutte in $O(1)$
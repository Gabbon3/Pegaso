# 30 Interfacce e Javadoc

- Identificazione attributi
- definizione di firme e visibilita 
- formalizzare i contratti

### Parole chiave

artefatto che evolve
parlare sempre con gli sviluppatori


## 4. Firme e visibilità

Visibilità: 
- __+__ pubblico (tutti)
- __-__ privato (classe)
- __#__ protected (classe e i figli)
- __no simbolo__ di package

## Firme

Firma = nome metodo, parametri, tipo di ritorno, eccezioni.

## Specifica dei contratti

__precondizione__:
- regole da rispettare prima di chiamare un metodo

__postcondizione__:
- proprietà che il metodo garantisce di rendere vere dopo aver finito il lavoro
- _condizione_: vale solo se la precondizione è stata rispettata
- _esempio_: se mi dai i dati giusti (pre) io ti garantisco questo risultato (post)

__invariante__:
- regola eterna che vale sempre per quell'oggetto.
- _esempio_: il totale di un carrello ecommerce non puo mai essere negativo

## OCL (Object Contraint Language)

Linguaggio formale usato per scrivere vincoli che in UML non si possono disegnare.

Caratteristiche OCL:
- usato solo per rispondere se qualcosa è vero o falso
- _contesto_ (context): ogni espressione OCL è legata ad un pezzo UML (classe o metodo)
- _sintassi_: 
```java
// il totale dell ordine deve sempre essere >= 0
// inv -> invariante
context Ordine inv: self.totale >= 0

// in OCL self = this in java

// esempi iterativi
// per ogni prodotto il prezzo deve essere > 0
prodotti->forAll(p | p.prezzo > 0)

// exists = verifica che almeno 1 elemento rispetti la regola
// almeno 1 ordine deve avere lo stato spedito
ordini->exists(o | o.stato = "spedito")
```

### Pro e Contro

Preciso, no dubbi, ottimo per sistemi critici.

Contro: difficile da imparare e mantenere. Aggiornare OCL faticoso
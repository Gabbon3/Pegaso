# 44 Configuration Management

disciplina che gestisce sistematicamente le modifiche per garantire che il sistema rimanga coerente.

Obiettivo: non è bloccare il cambiamento ma __controllarlo__

## Concetti chiave

1. Configuration Item CI
    - unita di base
    - non tutto è CI, es file temporanei e log non lo sono
2. CM Aggregate:
    - insieme di CI che formano un blocco logico
3. _Baseline_:
    - versione approvata ufficialmente che serve da punto di partenza per il lavoro futuro
    - una volta ottenuta la baseline non si tocca piu, se devi modificarla ne crei una nuova.
    - Esempio: la versione 1.0 una volta rilasciata non si tocca piu, al massimo si fa la 1.1

### Promozione VS Rilascio

- promozione (internal) -> sposti il codice da un ambiente all altro internamente (da pc dev a qa)
- rilascio (external) -> rilascio versione ufficiale, baseline, 1.0

### Versione VS Variante

- versione = evoluzione nel tempo v1 -> v2
- variante = esistenza parallela (versione IOS e Android)

### Esempi

ogni .java è un CI

la versione è una baselina 1.0.0

quando il codice passa in collaudo è in Promozione

Quando va in prod è una release

## Attivita principali

cosa fare correttamente per gestire configurazioni:

### identificazione

devi decidere cosa tracciare:
- scegliere CI significativi
- errore da evitare: se identifichi troppi CI il sistema diventa ingestibile -> pochi ma buoni

### Branching e Merging

in sostanza i concetti di git.

Regola d'oro: fare spesso i merge per evitare conflitti giganti "Merge Hell"

### Gestione delle varianti

come gestire cliente A vuole feature X e cliente B no?

- approccio rindondante -> duplichi progetto quindi fai Fork
- componenti comuni -> unico progetto con interruttori (molto meglio)

### Change Management

ogni modifica necessaria deve passare tramite un processo di __Change Request__:
1. descrizione problema
2. soluzione proposta
3. analisi degli impatti
4. approvazione

## Gestione e Documentazione il piano SCMP

per fare configuration management serve documento ufficiale derivato dal piano ufficiale SCPM Software Configuration Management Plan:

- standard -> IEEE 828-2005
- cosa contiene -> definisce chi fa cosa, come nominare i file, come approvare notifiche, quali strumenti usare
- dettaglio meta -> il piano SCMP è anchesso sotto controllo di versionamento.

i __Ruoli Ufficiali__:
1. Configuration Manager -> responsabile di implementare il processo e scegliere gli strumenti
2. CCB Change Control Board -> giudice, un gruppo di persone che valuta e approva richieste, le change request.
3. Auditor -> Verifica che la release sia conforme e che tutto sia in regola, in breve chi approva le merge request

### Continous Integration (CI)

in breve consiste nel ricevere notifiche sullo status dei push, in breve fai push e vengono applicati test e controlli in automatico, il sistema cosi ti segnala cosa ce che non va.

### Staged Builds

si puo dividere la CI in fasi:
- test rapidi, se passano ok
- test lunghi, girano la notte o dopo approvazione


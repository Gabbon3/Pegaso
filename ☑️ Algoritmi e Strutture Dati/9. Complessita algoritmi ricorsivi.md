# 9. Complessita algoritmi ricorsivi

qui non basta contare le istruzioni come per gli algoritmi non ricorsivi. Entriamo qui nel regno delle __Relazioni di Ricorrenza__.

## 1. non puoi contare i cicli

Negli algoritmi ricorsivi come $Merge Sort$ il tempo totale $T(n)$ dipende dal tempo che impiegano i sotto-problemi piu piccoli:

$T(n) = aT(n/b) + f(n)$

semplicemente parliamo di:
- $a$ -> quante volte richiamo la funzione? (2 volte nel merge sort)
- $n/b$ -> quando diventa grande il problema ogni volta? (es. la metà quindi $n/2$)
- $f(n)$ -> quanto tempo perdo a "dividere" e "ricombinare" i risultati (come avviene nel Divide et Impera)

## 2. albero di ricorsione

immaginiamo le chiamate come un albero:
- in cima ce il problema grosso (costo $cn$)
- sotto ci sono i due figli piu piccoli (costo $cn/2$ l'uno)
- sotto ancora 4 nipoti e cosi via.

per trovare il costo totale bisogna __sommare tutti i livelli dell albero__. Nel merge sort ad esempio scopri che ogni livello pesa uguale ($cn$) l'albero è alto $log_{2}n$. Risultato $cn \times log_{2} n \rarr \Theta(n log n)$

## 3. il trucco Master Theorem - Teorema dell'esperto

3 casi:
1. vince la ricorsione (caso peggiore) -> se l'albero si ramifica parecchio ed è piu pesante del lavoro $f(n)$ allora la complessita è dominata dalle foglie dell albero:
    - Esempio: $T(n) = 9T(n/3) + n$. Qui vincono i 9 sotto-problemi. Risultato: $\Theta(n^2)$.
    Cosi non ci capisco nulla ma a seguire una spiegazione semplificata:
    1. partendo dalla formula ci concentriamo sugli elementi principali:
        - $a = 9$ -> quante volte richiami la funzione (i sotto problemi)
        - $b = 3$ -> quanto dividi il problema ogni volta
        - $f(n) = n$ -> il lavoro extra per unire i risultati.
    2. calcoliamo la forza della ricorsione quindi __quanto pesa l albero delle chiamate__. La funzione di base è sempre questa $n^{log_{b}a}$ quindi dobbiamo calcolare la formula:
    - $n^{log_{3}9}$ che fa 2.
    - tradotto "A quale numero devo elevare 3 per ottenere 9"? __2__.
    - __La forza della ricorsione è quindi__ $n^2$
    3. una volta calcolata la forza della ricorsione dobbiamo confrontare con $f(n)$ (il lavoro extra) quindi:
        - $n^1 > n^2$? no quindi risultato finale $\Theta(n^2)$
2. Pareggio -> quindi dove nel punto 3 i due risultati combaciano allora risultato = $\Theta(log_n)$
3. Vince il Lavoro -> il risultato è la forza lavoro (quindi il valore in $f(n)$)